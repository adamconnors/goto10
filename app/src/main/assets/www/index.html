<!DOCTYPE html>
<html lang="en">
<head>
    <title>GOTO10 - A ridiculously easy way to programme Android Things!</title>
    <link rel="stylesheet" type="text/css" href="/index.css" media="screen" />
</head>
    <table width="100%">
        <tr>
            <td width="60%"><div id="editor">thing.setDisplay('hllo');</div></td>
            <td width="40%"><div id="console"></div></td>
        </tr>
    </table>

    <table>
        <tr>
            <td width="0%">
                </form>
                <input type="button" value="Execute on Device (Alt-x)" onclick="run()"/>
                  <input type="button" value="Clear console (Alt-c)" onclick="clearconsole()"/><br/>
                </form>
            </td>
            <td>
                <b>Functions</b><br/>
                thing.setDisplay('display') --> update the digital display<br/>
                thing.setLedStrip(0 - 7) --> set led strip position<br/>
                thing.sleep(ms) --> pause for ms milliseconds<br/>
                thing.setButtonListener(some-function) --> <a href="javascript:addbuttonlistenersnippet();">call event when button is pressed.</a><br/>
            </td>
        </tr>
    </table>

    <script src="/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="/src-noconflict/ext-language_tools.js"></script>
    <script src="goto10_client.js"></script>

    <!-- Set up the editor -->
    <script>
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");

        editor.setOptions({
            enableBasicAutocompletion: true,
            enableSnippets: true,
            enableLiveAutocompletion: false
        });


        editor.$blockScrolling = Infinity;
        editor.getSession().setMode("ace/mode/javascript");


        function addbuttonlistenersnippet() {
            var snippet = "function onButtonClick(id, pressed) {\n"
                        + "  thing.setDisplay(id);\n"
                        + "}\n\n"
                        + "thing.setButtonListener(onButtonClick);"

            editor.session.insert(editor.getCursorPosition(), snippet);

        }

    </script>
    </body>
</html>